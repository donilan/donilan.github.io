---
layout: post
status: publish
published: true
title: windows下用于定位内存泄漏的函数
author:
  display_name: D
  login: D
  email: donilan.word@gmail.com
  url: ''
author_login: D
author_email: donilan.word@gmail.com
wordpress_id: 51
wordpress_url: http://blog.sincerad.com/?p=51
date: '2010-11-23 05:26:14 +0800'
date_gmt: '2010-11-23 05:26:14 +0800'
categories:
- C&#47;C++
- Debug
tags:
- C&#47;C++
- debug
comments: []
---
<p>函数原型:<br />
[c]<br />
int reportType,<br />
int reportMode<br />
);[&#47;c]</p>
<table width="100%">
<tbody>
<tr>
<th>Report type<&#47;th></p>
<th>Description<&#47;th><br />
<&#47;tr></p>
<tr>
<td>_CRT_WARN<&#47;td></p>
<td>Warnings, messages, and information that does not need immediate attention.<&#47;td><br />
<&#47;tr></p>
<tr>
<td>_CRT_ERROR<&#47;td></p>
<td>Errors, unrecoverable problems, and issues that require immediate attention.<&#47;td><br />
<&#47;tr></p>
<tr>
<td>_CRT_ASSERT<&#47;td></p>
<td>Assertion failures (asserted expressions that evaluate to&nbsp;FALSE).<&#47;td><br />
<&#47;tr><br />
<&#47;tbody><br />
<&#47;table></p>
<table width="100%">
<tbody>
<tr>
<th>Report mode<&#47;th></p>
<th>_CrtDbgReport behavior<&#47;th><br />
<&#47;tr></p>
<tr>
<td>_CRTDBG_MODE_DEBUG<&#47;td></p>
<td>Writes the message to the debugger's output window.<&#47;td><br />
<&#47;tr></p>
<tr>
<td>_CRTDBG_MODE_FILE<&#47;td></p>
<td>Writes the message to a user-supplied file handle.&nbsp;_CrtSetReportFile&nbsp;should be called to define the specific file or stream to use as the destination.<&#47;td><br />
<&#47;tr></p>
<tr>
<td>_CRTDBG_MODE_WNDW<&#47;td></p>
<td>Creates a message box to display the message along with the&nbsp;Abort,&nbsp;Retry, and&nbsp;Ignore&nbsp;buttons.<&#47;td><br />
<&#47;tr></p>
<tr>
<td>_CRTDBG_REPORT_MODE<&#47;td></p>
<td>Returns&nbsp;reportMode&nbsp;for the specified&nbsp;reportType:</p>
<p>1&nbsp;&nbsp;&nbsp;_CRTDBG_MODE_FILE</p>
<p>2&nbsp;&nbsp;&nbsp;_CRTDBG_MODE_DEBUG</p>
<p>4&nbsp;&nbsp;&nbsp;_CRTDBG_MODE_WNDW<&#47;td><br />
<&#47;tr><br />
<&#47;tbody><br />
<&#47;table><br />
例子:</p>
<p>[c]<br />
_CrtSetDbgFlag( _CRTDBG_LEAK_CHECK_DF | _CRTDBG_ALLOC_MEM_DF);<br />
_CrtSetReportMode( _CRT_ASSERT, _CRTDBG_MODE_FILE | _CRTDBG_MODE_WNDW );<br />
_CrtSetReportFile( _CRT_ASSERT, _CRTDBG_FILE_STDERR );<br />
[&#47;c]</p>
<p>本函数的CSDN介绍:<a href="http:&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;1y71x448(VS.80).aspx">http:&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;1y71x448(VS.80).aspx<&#47;a></p>
