---
layout: post
status: publish
published: true
title: 一些Ubuntu下的简单Shell命令
author:
  display_name: D
  login: D
  email: donilan.word@gmail.com
  url: ''
author_login: D
author_email: donilan.word@gmail.com
wordpress_id: 39
wordpress_url: http://blog.sincerad.com/?p=39
date: '2010-11-23 01:53:31 +0800'
date_gmt: '2010-11-23 01:53:31 +0800'
categories:
- Linux
- Shell
tags:
- Bash
- Shell
- Linux
comments: []
---
<p>[bash]<br />
#挂载ISO文件:<br />
sudo mount -t iso9660 -o loop,utf8 xxx.iso &#47;mnt&#47;iso</p>
<p>#显示系统运行时间:<br />
uptime</p>
<p>#查看到某一个域名的路由情况:<br />
tracepath baidu.cn</p>
<p>#设置日期:<br />
date -s mm&#47;dd&#47;yy</p>
<p>#增加 rar 软件压缩和解压缩支持 :<br />
sudo apt-get install rar unrar</p>
<p>#根据字符串匹配来查看文件部分内容:<br />
grep 字符串 文件名</p>
<p>#增加解 cab 文件支持 :<br />
sudo apt-get install cabextract</p>
<p>#查看内核:<br />
uname -a</p>
<p>#清除僵死进程:<br />
ps -eal | awk '{ if ($2 == "Z") {print $4}}' | sudo kill -9</p>
<p>#如何使用命令关闭显示器 :<br />
xset dpms force off</p>
<p>#批量缩小图片到30%:<br />
for i in *; do convert -resize 30%x30% $1 sm-$1; done<br />
#批量转换jpg到png:<br />
for i in *; do convert $i `echo $i | sed -e 's&#47;jpg$&#47;png&#47;'`; done</p>
<p>#解压缩 xxx.tar.gz :<br />
tar -zxvf xxx.tar.gz</p>
<p>#临时重启一个服务:<br />
&#47;etc&#47;init.d&#47;服务名 restart</p>
<p>#分区挂载:<br />
sudo mount -t 文件系统类型 (-o nls=utf8 或 -o iocharset=utf8) 设备路经 访问路经</p>
<p>#察看当前网络连接状况以及程序 :<br />
sudo netstat -atnp</p>
<p>#查看在会话设置的启动程序:<br />
ls ~&#47;.config&#47;autostart</p>
<p>#显示不包含字符串的文件名:<br />
grep -L -r 字符串 路径</p>
<p>#控制台下显示中文 :<br />
sudo apt-get install zhcon;zhcon --utf8 --drv=vga</p>
<p>#清除已删除包的残馀配置文件:<br />
dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P</p>
<p>#设置电脑的时区为上海:<br />
sudo cp &#47;usr&#47;share&#47;zoneinfo&#47;Asia&#47;Shanghai &#47;etc&#47;localtime</p>
<p>#统计当前目录下所有jpg文件的尺寸:<br />
find . -name *.jpg -exec wc -c {} \;|awk '{print $1}'|awk '{a+=$1}END{print a}'</p>
<p>#转换目录到iso文件<br />
mkisofs dirname -o isofile.iso</p>
<p>#查看Home目录的大小<br />
df -h &#47;home</p>
<p>#查看系统modules<br />
ls &#47;lib&#47;modules&#47;$(uname -r)&#47;kernel&#47;</p>
<p>##网络硬件配置<br />
sysctl -a</p>
<p>##查看ipv4的配置<br />
ls &#47;etc&#47;sys&#47;net&#47;ipv4&#47;</p>
<p>##修改某个ipv4的配置<br />
echo "1" > &#47;proc&#47;sys&#47;net&#47;ipv4&#47;icmp_echo_ignore_broadcasts</p>
<p>##开启系统转发功能<br />
echo "1" > &#47;proc&#47;sys&#47;net&#47;ipv4&#47;ip_forward</p>
<p>##从 &#47;dev&#47;hda（第一个 IDE 盘） 上读取前 512 个字节的内容，并将其写入 mbr.bin 文件中。<br />
dd if=&#47;dev&#47;hda of=mbr.bin bs=512 count=1</p>
<p>##以十六进制和 ASCII 码格式打印二进制文件的内容<br />
od -xa mbr.bin<br />
##以ASCII码格式打印起始j到结束N的内容<br />
od -x mbr.bin -j 446 -N 64</p>
<p>##查看磁盘的使用情况以及文件系统被挂载的位置<br />
df -lh</p>
<p>##获得机器中所有的硬盘的分区情况<br />
fdisk -l</p>
<p>##查看分区信息<br />
cat &#47;proc&#47;partitions</p>
<p>##查看支持的文件系统<br />
cat &#47;proc&#47;filesystems</p>
<p>##改变系统的时区（Java默认会用到）<br />
tzselect</p>
<p>##默认时区环境变量<br />
export TZ='Asia&#47;Shanghai'</p>
<p>##改变系统显示时区的时间<br />
cp &#47;usr&#47;share&#47;zoneinfo&#47;Asia&#47;Shanghai &#47;etc&#47;localtime</p>
<p>##当文件改变时执行脚本<br />
while inotifywait -e modify &#47;tmp&#47;myfile; do firefox; done</p>
<p>##解决vps使用java时内存不足<br />
export _JAVA_OPTIONS="-Xms20m -Xmx64m -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=40 -XX:NewSize=10m -XX:MaxNewSize=10m -XX:SurvivorRatio=6 -XX:TargetSurvivorRatio=80 -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled"</p>
<p>##将opera的源地址加入到ubuntu的源里<br />
wget -O - http:&#47;&#47;deb.opera.com&#47;archive.key | sudo apt-key add -</p>
<p>##弹出cdrom<br />
eject</p>
<p>##找出正在使用这个目录&#47;文件的进程或者socket, 添加参数-k可以杀死这些进程<br />
fuser &#47;path&#47;to&#47;display</p>
<p>##共享终端，客户端使用screen -x foo即可连接在一起（同一台机器上）<br />
screen -S foo</p>
<p>##建立C++ 的tags给emacs用<br />
find -name "*.h" -or -name "*.cpp" | xargs etags --members --language=c++<br />
##方法2<br />
find -name "*.cpp" -exec etags -a {} ;<br />
##方法3<br />
find . -name "*.[chCH]" -print | etags -</p>
<p>##把所有换行符替换为空格<br />
sed ':a;N;$!ba;s&#47;\n&#47; &#47;g'</p>
<p>##监视文件变化后运行程序<br />
while inotifywait -e modify &#47;tmp&#47;myfile; do firefox; done</p>
<p>##在后台运行程序，退出登录后，并不结束程序 :<br />
nohup 程序 &</p>
<p>##convert to decimal, set ibase to 16<br />
echo "ibase=16; FFF"|bc</p>
<p>##convert to hexadecimal, set obase to 16<br />
echo "obase=16; 10"|bc</p>
<p>##改变系统使用的时区<br />
dpkg-reconfigure tzdata</p>
<p>##检查串口<br />
setserial -g &#47;dev&#47;ttyS[0123]</p>
<p>## 链接两个串口<br />
sudo socat PTY,link=&#47;dev&#47;ttyS0 PTY,link=&#47;dev&#47;ttyS1</p>
<p>[&#47;bash]</p>
