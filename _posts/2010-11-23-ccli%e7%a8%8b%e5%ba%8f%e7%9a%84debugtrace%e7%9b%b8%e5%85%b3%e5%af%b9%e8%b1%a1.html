---
layout: post
status: publish
published: true
title: C++&#47;CLI程序的Debug&#47;Trace相关对象
author:
  display_name: D
  login: D
  email: donilan.word@gmail.com
  url: ''
author_login: D
author_email: donilan.word@gmail.com
wordpress_id: 55
wordpress_url: http://blog.sincerad.com/?p=55
date: '2010-11-23 07:33:35 +0800'
date_gmt: '2010-11-23 07:33:35 +0800'
categories:
- C&#47;C++
- Debug
tags:
- C&#47;C++
- debug
comments: []
---
<p>[cpp]<br />
#include <iostream></p>
<p>using namespace System;<br />
using System::Diagnostics::Debug;<br />
using System::Diagnostics::TraceSwitch;<br />
using System::Diagnostics::TextWriterTraceListener;</p>
<p>int main(array<System::String ^> ^args)<br />
{<br />
	&#47;&#47;输出监听，输出到控制台<br />
	TextWriterTraceListener^ listener = gcnew TextWriterTraceListener(Console::Out);<br />
	Debug::Listeners->Add(listener);</p>
<p>	&#47;&#47;跟踪开关<br />
	TraceSwitch^ traceCtrl = gcnew TraceSwitch(L"Test", L"Traces Test operations");<br />
	&#47;&#47;System::Diagnostics::TraceLevel::Off;<br />
	&#47;&#47;System::Diagnostics::TraceLevel::Error;<br />
	&#47;&#47;System::Diagnostics::TraceLevel::Info;<br />
	&#47;&#47;System::Diagnostics::TraceLevel::Verbose;<br />
	&#47;&#47;System::Diagnostics::TraceLevel::Warning;<br />
	traceCtrl->Level = System::Diagnostics::TraceLevel::Info;</p>
<p>	int i = 0;<br />
	if(traceCtrl->TraceInfo) {<br />
		Debug::Write(++i + L" Write: This is a debug message!\n");<br />
		Debug::Write(++i + L" Write: This is a debug message!\n", L"INFO");<br />
		Debug::WriteLine(++i + L"WriteLine: This is a debug message!");<br />
		Debug::WriteIf(true, ++i + L" WriteIf: This is a debug message!\n");<br />
		Debug::WriteIf(true, ++i + L" WriteIf: This is a debug message!\n", L"INFO");<br />
		Debug::Print(++i + L" Print: This is a debug message!\n");<br />
	}<br />
	system("pause");<br />
    return 0;<br />
}<br />
[&#47;cpp]</p>
